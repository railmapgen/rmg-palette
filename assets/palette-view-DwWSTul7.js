import{j as e,N as P,f as R,h as f,T as i,G as E,F as h,i as j,k as T,l as d,m as A,n as _,L as b}from"./mantine-BanmS24x.js";import{l as m,j as w}from"./react-BFtFWddK.js";import{u as g,R as I,s as L,r as l,E as y,M as H,a as M,b as S,c as k}from"./index-CqSkSLb3.js";import{u as C}from"./use-translated-name-B3bXP-Zb.js";import{u as D}from"./use-palette-DD0DHlfV.js";import{c as u}from"./palette-card.module-C5ejK6cJ.js";function B(){const{t:s,i18n:a}=m(),o=C(),n=w(),{countryList:c,selectedCountry:p}=g(r=>r.app),t=[{label:s("Please select..."),value:"",disabled:!0},...c.filter(r=>r.id!=="UN").map(r=>[r.id,o(r.name)]).sort((r,x)=>r[1].localeCompare(x[1],a.languages[0])).map(([r,x])=>({label:x,value:r}))],v=()=>{l.openApp({appId:"rmg-palette-upload"}),l.event(y.ADD_CITY,{})};return e.jsxs(I,{children:[e.jsx(P,{label:s("Country/Region"),value:p,onChange:({currentTarget:{value:r}})=>n(L(r)),data:t}),e.jsx(R,{variant:"filled",ml:"auto",onClick:v,children:s("Add a city")})]})}const G="_root_1du2m_1",z="_control_1du2m_8",N={root:G,control:z},F=s=>{var c;const[,a,o,n]=(c=s.match(/^#(\w{2})(\w{2})(\w{2})$/))!=null?c:[];return[+("0x"+a),+("0x"+o),+("0x"+n)]};function O({line:s}){const{t:a}=m(),o=C(),n=s.fg===H.black?"black":"white";return e.jsxs(f,{p:"sm",withBorder:!0,children:[e.jsx(f.Section,{bg:s.colour,p:"sm",className:u["card-section"],children:e.jsx(i,{span:!0,style:{color:n},children:o(s.name)})}),e.jsxs(E,{gap:"xs",mt:"sm",children:[e.jsxs(h,{className:u.output,children:[e.jsx(i,{c:"dimmed",size:"sm",span:!0,children:a("HEX")}),e.jsx(j,{children:s.colour.toUpperCase()})]}),e.jsxs(h,{className:u.output,children:[e.jsx(i,{c:"dimmed",size:"sm",span:!0,children:a("RGB")}),e.jsx(j,{children:F(s.colour).join(", ")})]}),s.pantone&&e.jsxs(h,{className:u.output,children:[e.jsx(i,{c:"dimmed",size:"sm",span:!0,children:a("PantoneÂ® code")}),e.jsx(j,{children:s.pantone})]})]})]},s.id)}function U({cityCode:s}){const a=D(s);return e.jsx(T,{cols:{base:1,xs:2,sm:3,md:4,lg:5,xl:6},children:a.map(o=>e.jsx(O,{line:o},o.id))})}function Y(){const{t:s}=m(),a=C(),{cityList:o,selectedCountry:n}=g(t=>t.app),c=o.filter(t=>t.country===n),p=async t=>{l.closeApp("rmg-palette-upload"),setTimeout(()=>{l.openApp({appId:"rmg-palette-upload",hash:"/new?city="+t})},200),l.event(y.EDIT_CITY,{city:t})};return e.jsx(d,{chevronPosition:"left",classNames:{root:N.root},children:c.map(t=>e.jsxs(d.Item,{value:t.id,children:[e.jsxs(A,{className:N.control,children:[e.jsx(d.Control,{children:a(t.name)}),e.jsx(_,{variant:"default",ml:"xs",mr:"md","aria-label":s("Edit"),title:s("Edit"),onClick:()=>p(t.id),children:e.jsx(M,{})})]}),e.jsx(d.Panel,{children:e.jsx(U,{cityCode:t.id})})]},t.id))})}function Q(){const{t:s}=m(),{isDataLoading:a,selectedCountry:o}=g(n=>n.app);return e.jsxs(S,{children:[e.jsx(b,{visible:a}),e.jsx(B,{}),e.jsxs(k,{children:[e.jsx(b,{visible:!o,loaderProps:{children:s("Select a country or region to begin.")}}),e.jsx(Y,{})]})]})}export{Q as default};
