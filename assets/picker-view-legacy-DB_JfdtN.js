System.register(["./mantine-legacy-D-BSHsMm.js","./react-legacy-Bkm4g_oU.js","./index-legacy-ncsdyW3q.js","./use-translated-name-legacy-BZLNJKPV.js","./use-palette-legacy-DuqooMAp.js","./pantone-input-legacy-CvF8ruoA.js"],(function(e,n){"use strict";var t,a,o,s,l,r,i,c,u,d,p,m,h,g,j,C,x,v,f,b,y,L,E,w,S,_,A,I,P,O,D,k,z,R,$,F;return{setters:[e=>{t=e.j,a=e.x,o=e.B,s=e.g,l=e.G,r=e.f,i=e.e,c=e.F,u=e.r,d=e.D,p=e.L},e=>{m=e.l,h=e.r,g=e.o},e=>{j=e.u,C=e.a1,x=e.M,v=e.f,f=e.g,b=e.h,y=e.a2,L=e.a3,E=e.a4,w=e.a5,S=e.r,_=e.E,A=e.a6,I=e.c,P=e.C,O=e.a0,D=e.b,k=e.a7},e=>{z=e.u},e=>{R=e.u},e=>{$=e.a,F=e.P}],execute:function(){var n=document.createElement("style");n.textContent="._body_jalou_1{padding:calc(.5rem * var(--mantine-scale));align-items:center;width:100%;overflow-y:auto}._custom-input-group_jalou_8{flex-wrap:wrap}._custom-input-group_jalou_8>div{flex:1;min-width:calc(8.125rem * var(--mantine-scale))}\n/*$vite$:1*/",document.head.appendChild(n),e("default",(function(){const[e]=g(),n=e.get("parentId"),a=e.get("parentComponent"),o=v(),{isDataLoading:s}=j((e=>e.app)),[l,r]=h.useState(),[i,c]=h.useState(),u=h.useRef(null);return h.useEffect((()=>{const e=new BroadcastChannel(G+n);return u.current=e,S.event(_.APP_CLIP_VIEW_OPENED,{parentComponent:a}),e.onmessage=n=>{const{event:t,data:a}=n.data;console.log(`[${e.name}] Received event from parent component:`,t),"OPEN"===t&&(r(crypto.randomUUID()),c(a))},console.log(`[${e.name}] App clip connection established, parentComponent=${a}`),e.postMessage({event:"LOADED"}),()=>{e.close()}}),[]),t.jsxs(D,{children:[t.jsx(p,{visible:s}),t.jsx(W,{defaultTheme:i,sessionId:l,onSubmit:(e,n)=>{console.log(`[${u.current?.name}] Emitting SELECT event, theme:`,e),u.current?.postMessage({event:"SELECT",data:e}),o(k({theme:e,displayName:n})),S.event(_.APP_CLIP_VIEW_SELECT,{parentComponent:a,theme:e})},onClose:()=>{console.log(`[${u.current?.name}] Emitting CLOSE event`),u.current?.postMessage({event:"CLOSE"}),S.event(_.APP_CLIP_VIEW_CLOSED,{parentComponent:a})}})]})}));const T={body:"_body_jalou_1","custom-input-group":"_custom-input-group_jalou_8"},V=e=>{const n=(e=>{const n=e.toUpperCase().split("");return 2===n.length?n.map((e=>((e.codePointAt(0)||0)+127397).toString(16).toUpperCase())):5===n.length?["1F3F4",...n.map((e=>((e.codePointAt(0)||0)+917536).toString(16).toUpperCase())),"E007F"]:[]})(e);return String.fromCodePoint(...n.map((e=>parseInt(e,16))))};function N(e){const{defaultValueId:n,onChange:o}=e,{t:s,i18n:l}=m(),r=z(),{countryList:i,cityList:c}=j((e=>e.app)),u=c.reduce(((e,n)=>({...e,[n.id]:n})),{}),d=i.reduce(((e,n)=>({...e,[n.id]:n})),{}),p=n&&n in u?n:null,h=c.map((e=>({value:e.id,label:r(e.name)}))).sort(((e,n)=>"other"===e.value?1:"other"===n.value?-1:e.label.localeCompare(n.label,l.languages[0])));return t.jsx(a,{label:s("City"),data:h,value:p,onChange:e=>e&&o?.(e),renderOption:({option:e})=>{const n=u[e.value];return n&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"flag-emoji",children:V(C(n.country))}),t.jsx("span",{children:r(n.name)})]})},searchable:!0,filter:({options:e,search:n})=>{const t=n.toLocaleLowerCase();return e.filter((e=>{const n=u[e.value];return n&&(n.id.toLocaleLowerCase().includes(t)||Object.values(n.name).some((e=>e.toLocaleLowerCase().includes(t)))||n.country.toLocaleLowerCase().includes(t)||Object.values(d[n.country]?.name??{}).some((e=>e.toLocaleLowerCase().includes(t))))}))}})}function M(e){const{city:n,defaultValueId:s,onChange:l,onSubmit:r}=e,{t:i}=m(),c=z(),[u,d]=h.useState(!1),p=R(n),g=p.reduce(((e,n)=>({...e,[n.id]:n})),{}),j=s&&s in g?s:null,C=p.map((e=>({value:e.id,label:c(e.name)})));return t.jsx(a,{label:i("Line"),data:C,value:j,onChange:e=>{if(e){const n=g[e];l?.(n.id,n.colour,n.fg||x.white,n.pantone)}},renderOption:({option:e})=>{const n=g[e.value];return n&&t.jsx(o,{size:"lg",radius:"sm",color:n.colour,style:{color:n.fg||x.white},children:c(n.name)})},searchable:!0,filter:({options:e,search:n})=>{const t=n.toLocaleLowerCase();return e.filter((e=>{const n=g[e.value];return n&&(n.id.toLocaleLowerCase().includes(t)||Object.values(n.name).some((e=>e.toLocaleLowerCase().includes(t))))}))},onDropdownOpen:()=>d(!0),onDropdownClose:()=>d(!1),onKeyDown:({key:e})=>!u&&"Enter"===e&&r?.(),disabled:!n})}function U({onApply:e}){const{t:n}=m(),a=v(),{recentlyUsed:o}=j((e=>e.app)),[i,c]=h.useState(!1),u=n(i?"Remove":"Apply");return t.jsxs(f,{w:"100%",children:[t.jsxs(b,{children:[t.jsx(s,{order:2,size:"h4",children:n("Recently used")}),t.jsx(l,{gap:"xs",ml:"auto",children:i?t.jsxs(t.Fragment,{children:[t.jsx(r,{variant:"default",size:"xs",onClick:()=>{a(A()),S.event(_.CLEAR_HISTORY,{})},children:n("Clear all")}),t.jsx(r,{size:"xs",onClick:()=>c(!1),children:n("Done")})]}):t.jsx(r,{variant:"default",size:"xs",onClick:()=>c(!0),children:n("Clear")})})]}),t.jsx(y,{children:t.jsx(l,{gap:"xs",p:"xs",children:o.map((({theme:n,displayName:o},s)=>t.jsx(L,{bg:n[2],fg:n[3],"aria-label":u+" "+o,title:u+" "+o,onClick:()=>i?(a(w(s)),void S.event(_.REMOVE_HISTORY_ITEM,{})):e(n),children:i?t.jsx(E,{}):"Aa"},n.join("-"))))})})]})}const B=e=>!!e.match(/^#[0-9a-fA-F]{6}$/);function W(e){const{defaultTheme:n,sessionId:a,onSubmit:s,onClose:p}=e,{t:g}=m(),{pantoneReady:C}=j((e=>e.app)),[v,f]=h.useState(n?.[0]),[b,y]=h.useState(n?.[1]),[L,E]=h.useState(n?.[2]||"#AAAAAA"),[w,S]=h.useState(n?.[3]||x.white),[_,A]=h.useState(""),[D,k]=h.useState("rgb"),z=()=>{A(""),k((e=>"pantone"===e?"rgb":e))};h.useEffect((()=>{a&&n&&(f(n[0]),y(n[1]),E(n[2]),S(n[3]),z())}),[a,n?.toString()]);const R=[{label:g("RGB"),value:"rgb"},{label:g("PantoneÂ®"),value:"pantone",disabled:!C}],V=[{label:g("Black"),value:x.black},{label:g("White"),value:x.white}],W=v&&b&&L&&w&&B(L),G=()=>{if(W){const e=`${v} - ${b}`,n=L.toLowerCase();s?.([v,b,n,w],e)}};return t.jsxs(t.Fragment,{children:[t.jsx(I,{children:t.jsxs(i,{className:T.body,children:[t.jsx(c,{children:t.jsx(o,{size:"xl",radius:"sm",color:L,style:{color:w},children:g("Example")})}),t.jsxs(l,{w:"100%",grow:!0,children:[t.jsx(N,{defaultValueId:v,onChange:e=>{f(e),y(void 0),E("#AAAAAA"),S(x.white)}}),t.jsx(M,{city:v,defaultValueId:b,onChange:(e,n,t,a)=>{y(e),E(n),S(t),a&&A(a)},onSubmit:G})]}),t.jsx($,{display:"none"}),t.jsxs(l,{w:"100%",className:T["custom-input-group"],children:[t.jsx(P,{size:"sm",label:g("Input mode"),data:R,value:D,onChange:e=>k(e)}),"pantone"===D&&t.jsx(F,{value:_,onChange:(e,n)=>{f("other"),y("other"),E(n),A(e)}}),"pantone"!==D&&t.jsx(u,{label:g("Background colour"),value:L,onChange:e=>{f("other"),y("other"),E(e),z()}}),t.jsx(P,{size:"sm",label:g("Foreground colour"),data:V,value:w,onChange:e=>{f("other"),y("other"),S(e)}})]}),t.jsx(U,{onApply:e=>{f(e[0]),y(e[1]),E(e[2]),S(e[3]),z()}})]})}),t.jsx(d,{}),t.jsx(O,{children:t.jsxs(l,{ml:"auto",gap:"sm",children:[t.jsx(r,{variant:"default",size:"sm",onClick:p,children:g("Cancel")}),t.jsx(r,{variant:"filled",size:"sm",onClick:G,disabled:!W,children:g("Confirm")})]})})]})}const G="rmg-palette-bridge--"}}}));
