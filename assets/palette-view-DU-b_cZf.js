import{j as e,N as P,f as _,h as b,T as d,G as R,F as f,i as g,k as E,l as x,m as L,n as T,L as y}from"./mantine-8JTekVFe.js";import{l as h,j as A}from"./react-BFtFWddK.js";import{u as j,R as w,s as I,r as p,E as v,M as H,a as M,b as S,c as k}from"./index-CDWPZH1e.js";import{u as N}from"./use-translated-name-BhARIcv6.js";import{u as D}from"./use-palette-CgQ-_Q9M.js";import{c as u}from"./palette-card.module-BXpITapC.js";function B(){const{t:s,i18n:o}=h(),{translateName:n}=N(),r=A(),{countryList:l,selectedCountry:i}=j(a=>a.app),c=[{label:s("Please select..."),value:"",disabled:!0},...l.filter(a=>a.id!=="UN").map(a=>[a.id,n(a.name)]).sort((a,t)=>a[1].localeCompare(t[1],o.languages[0])).map(([a,t])=>({label:t,value:a}))],m=()=>{p.openApp({appId:"rmg-palette-upload"}),p.event(v.ADD_CITY,{})};return e.jsxs(w,{children:[e.jsx(P,{label:s("Country/Region"),value:i,onChange:({currentTarget:{value:a}})=>r(I(a)),data:c}),e.jsx(_,{variant:"filled",ml:"auto",onClick:m,children:s("Add a city")})]})}const G="_root_180oh_1",O="_control_180oh_8",C={root:G,control:O,"official-names":"_official-names_180oh_15"},z=s=>{var l;const[,o,n,r]=(l=s.match(/^#(\w{2})(\w{2})(\w{2})$/))!=null?l:[];return[+("0x"+o),+("0x"+n),+("0x"+r)]};function F({line:s}){const{t:o}=h(),{translateName:n,otherOfficialNames:r}=N(),{countryList:l,selectedCountry:i}=j(a=>a.app),c=l.find(({id:a})=>a===i),m=s.fg===H.black?"black":"white";return e.jsxs(b,{className:u.card,withBorder:!0,children:[e.jsxs(b.Section,{bg:s.colour,className:u["card-section"],style:{color:m},children:[e.jsx(d,{span:!0,children:n(s.name)}),e.jsx(d,{span:!0,children:r(s.name,c==null?void 0:c.languages)})]}),e.jsxs(R,{gap:"xs",mt:"sm",children:[e.jsxs(f,{className:u.output,children:[e.jsx(d,{c:"dimmed",size:"sm",span:!0,children:o("HEX")}),e.jsx(g,{children:s.colour.toUpperCase()})]}),e.jsxs(f,{className:u.output,children:[e.jsx(d,{c:"dimmed",size:"sm",span:!0,children:o("RGB")}),e.jsx(g,{children:z(s.colour).join(", ")})]}),s.pantone&&e.jsxs(f,{className:u.output,children:[e.jsx(d,{c:"dimmed",size:"sm",span:!0,children:o("PantoneÂ® code")}),e.jsx(g,{children:s.pantone})]})]})]},s.id)}function U({cityCode:s}){const o=D(s);return e.jsx(E,{cols:{base:1,xs:2,sm:3,md:4,lg:5,xl:6},children:o.map(n=>e.jsx(F,{line:n},n.id))})}function Y(){const{t:s}=h(),{translateName:o,otherOfficialNames:n}=N(),{cityList:r,countryList:l,selectedCountry:i}=j(t=>t.app),c=l.find(({id:t})=>t===i),m=r.filter(t=>t.country===i),a=async t=>{p.closeApp("rmg-palette-upload"),setTimeout(()=>{p.openApp({appId:"rmg-palette-upload",hash:"/new?city="+t})},200),p.event(v.EDIT_CITY,{city:t})};return e.jsx(x,{chevronPosition:"left",classNames:{root:C.root},children:m.map(t=>e.jsxs(x.Item,{value:t.id,children:[e.jsxs(L,{className:C.control,children:[e.jsxs(x.Control,{children:[o(t.name),e.jsx(d,{span:!0,className:C["official-names"],children:n(t.name,c==null?void 0:c.languages)})]}),e.jsx(T,{variant:"default",ml:"xs",mr:"md","aria-label":s("Edit"),title:s("Edit"),onClick:()=>a(t.id),children:e.jsx(M,{})})]}),e.jsx(x.Panel,{children:e.jsx(U,{cityCode:t.id})})]},t.id))})}function Q(){const{t:s}=h(),{isDataLoading:o,selectedCountry:n}=j(r=>r.app);return e.jsxs(S,{children:[e.jsx(y,{visible:o}),e.jsx(B,{}),e.jsxs(k,{children:[e.jsx(y,{visible:!n,loaderProps:{children:s("Select a country or region to begin.")}}),e.jsx(Y,{})]})]})}export{Q as default};
