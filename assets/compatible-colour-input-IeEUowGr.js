import{j as r,f as x,a4 as w,p as j,a5 as P,a6 as v,i as k,a7 as R}from"./mantine-CJVgOlcv.js";import{m as y,r as l,a as S}from"./react-Ben-8ZBa.js";import{a as E,u as I,O as h}from"./index-CnlgwmgZ.js";const z=t=>`{ getColor(code:"${t}") { code, rgb { r g b }, hex, cmyk { c m y k } } }`,g=async(t,e)=>"#"+(await(await fetch("https://4n6dg5ccsfct3lzfssu34boemq.appsync-api.us-east-1.amazonaws.com/graphql",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":"da2-sa3lsp2tkzhj3c2ysxbdprl73e"},body:JSON.stringify({query:z(t)}),signal:e})).json()).data.getColor.hex;function L(t){const{t:e}=y(),n=E(),{pantoneReady:a}=I(o=>o.app);return l.useEffect(()=>{if(a)return;const o=new AbortController;return g("130 C",o.signal).then(c=>n(h(!!c))).catch(()=>n(h(!1))),()=>{o.abort()}},[]),r.jsx(x,{fs:"italic",size:"xs",...t,children:a===void 0?e("Checking Pantone® service availability..."):a?e("Pantone® service is ready")+" ✅":e("Pantone® service is not available")+" ⚠️"})}function _(t){const{value:e,onChange:n,...a}=t,{t:o}=y(),[c,i]=l.useState(e),[d,f]=l.useState(!1),p=l.useRef(new AbortController);l.useEffect(()=>()=>{p.current?.abort()},[]),l.useEffect(()=>{i(e)},[e]);const b=w(async s=>{p.current.abort(),p.current=new AbortController,f(!0);try{const m=await g(s,p.current.signal);n(s,m),i(s)}catch{console.warn(`[rmg-palette] Unable to find Pantone colour ${s}`),S.flushSync(()=>{i(s)}),i(e)}finally{f(!1)}},1500),C=({target:{value:s}})=>{i(s),b(s)};return r.jsx(j,{label:o("Pantone® code"),value:c,onChange:C,rightSection:d&&r.jsx(P,{size:20}),disabled:d,...a})}const T="_wrapper_1g8bw_1",D={wrapper:T},u=!!window.EyeDropper;function B({type:t,size:e,onChange:n,style:a,...o}){const c=l.useRef(null);return r.jsxs("div",{className:D.wrapper,children:[!u&&r.jsx("input",{ref:c,type:"color",onChange:({currentTarget:{value:i}})=>n?.(i.toUpperCase()),...o}),r.jsx(v,{type:t,size:e,onChange:n,style:a,withPicker:u,rightSection:u?void 0:r.jsx(k,{variant:"subtle",color:"gray",onClick:()=>{c.current?.click(),c.current?.focus()},children:r.jsx(R,{})}),...o})]})}export{B as C,_ as P,L as a};
