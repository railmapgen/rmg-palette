import{j as r,f as w,a4 as m,p as x,a5 as j,a6 as P,i as v,a7 as k}from"./mantine-D6eU2gBs.js";import{l as h,r as l,a as R}from"./react-ZLv5tWbY.js";import{a as S,u as E,O as f}from"./index-rLJIADUm.js";const I=t=>`{ getColor(code:"${t}") { code, rgb { r g b }, hex, cmyk { c m y k } } }`,y=async(t,e)=>"#"+(await(await fetch("https://4n6dg5ccsfct3lzfssu34boemq.appsync-api.us-east-1.amazonaws.com/graphql",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":"da2-sa3lsp2tkzhj3c2ysxbdprl73e"},body:JSON.stringify({query:I(t)}),signal:e})).json()).data.getColor.hex;function q(t){const{t:e}=h(),n=S(),{pantoneReady:a}=E(o=>o.app);return l.useEffect(()=>{if(a)return;const o=new AbortController;return y("130 C",o.signal).then(c=>n(f(!!c))).catch(()=>n(f(!1))),()=>{o.abort()}},[]),r.jsx(w,{fs:"italic",size:"xs",...t,children:a===void 0?e("Checking Pantone® service availability..."):a?e("Pantone® service is ready")+" ✅":e("Pantone® service is not available")+" ⚠️"})}function L(t){const{value:e,onChange:n,...a}=t,{t:o}=h(),[c,i]=l.useState(e),[u,d]=l.useState(!1),p=l.useRef(new AbortController);l.useEffect(()=>()=>{p.current?.abort()},[]),l.useEffect(()=>{i(e)},[e]);const g=m(async s=>{p.current.abort(),p.current=new AbortController,d(!0);try{const C=await y(s,p.current.signal);n(s,C),i(s)}catch{console.warn(`[rmg-palette] Unable to find Pantone colour ${s}`),R.flushSync(()=>{i(s)}),i(e)}finally{d(!1)}},1500),b=({target:{value:s}})=>{i(s),g(s)};return r.jsx(x,{label:o("Pantone® code"),value:c,onChange:b,rightSection:u&&r.jsx(j,{size:20}),disabled:u,...a})}const z="_wrapper_1g8bw_1",T={wrapper:z};function _({type:t,size:e,onChange:n,style:a,...o}){const c=l.useRef(null);return r.jsxs("div",{className:T.wrapper,children:[r.jsx(P,{type:t,size:e,onChange:n,style:a,withPicker:!!window.EyeDropper,rightSection:window.EyeDropper?void 0:r.jsx(v,{variant:"subtle",color:"gray",onClick:()=>{c.current?.click(),c.current?.focus()},children:r.jsx(k,{})}),...o}),r.jsx("input",{ref:c,type:"color",onChange:({currentTarget:{value:i}})=>n?.(i.toUpperCase()),...o})]})}export{_ as C,L as P,q as a};
